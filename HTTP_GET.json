{
  "id": "HTTP GET",
  "initial": "INITIALIZING",
  "states": {
    "INITIALIZING": {
      "on": {
        "STARTED": {
          "target": "DEFINING_TIMEOUT_TARGET"
        }
      }
    },
    "DEFINING_TIMEOUT_TARGET": {
      "entry": [
        {
          "params": {},
          "type": "redirect (TIMEOUT ENDING)"
        },
        {
          "params": {},
          "type": "done"
        }
      ],
      "on": {
        "DONE": {
          "target": "SETTING_UP_CONTROL_LINK"
        }
      }
    },
    "SETTING_UP_CONTROL_LINK": {
      "entry": [
        {
          "params": {},
          "type": "call (CTRL_CHANNEL) (event ctrl)"
        },
        {
          "params": {},
          "type": "trigger (event)"
        }
      ],
      "on": {
        "CONTROL_LINK_READY": {
          "target": "SENDING_SYNC_MESSAGE",
          "actions": {
            "params": {},
            "type": "assign (ctrl) (ctrl)"
          }
        }
      }
    },
    "SENDING_SYNC_MESSAGE": {
      "entry": [
        {
          "params": {},
          "type": "call (EXCHANGE_SYNC ctrl) (event)"
        },
        {
          "params": {},
          "type": "trigger (event)"
        }
      ],
      "on": {
        "DONE": {
          "target": "SETTING_UP_VARIABLES"
        }
      }
    },
    "SETTING_UP_VARIABLES": {
      "entry": [
        {
          "params": {},
          "type": "call (SETTING_UP_VARIABLES) (event pkt queue)"
        },
        {
          "params": {},
          "type": "done"
        }
      ],
      "on": {
        "DONE": {
          "target": "STARTING_THREE_WAY_HANDSHAKE",
          "actions": [
            {
              "params": {},
              "type": "assign (pkt) (pkt)"
            },
            {
              "params": {},
              "type": "assign (queue) (queue)"
            }
          ]
        }
      }
    },
    "STARTING_THREE_WAY_HANDSHAKE": {
      "entry": [
        {
          "type": "call (THREE_WAY_HANDSHAKE pkt queue) (event)"
        },
        {
          "type": "trigger (event)"
        }
      ],
      "on": {
        "DONE": {
          "target": "end"
        }
      }
    },
    "end": {}
  }
}
